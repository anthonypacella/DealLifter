{"version":3,"sources":["components/Logo/logo.png","components/Nav/logo.png","utils/auth.js","components/Nav/index.js","components/Footer/index.js","components/InfoBar/categories.js","components/InfoBar/deals.js","utils/queries.js","utils/mutations.js","components/InfoBar/index.js","components/Deal/index.js","components/DealSmall/index.js","pages/Home.js","pages/Login.js","components/ProfileTabs/tabs.js","components/SavedDeals/index.js","components/FavoriteTags/index.js","components/Avatar/index.js","components/Following/index.js","components/Followers/index.js","components/ProfileTabs/index.js","pages/Profile.js","components/Pagination/index.js","pages/Results.js","pages/Signup.js","pages/Post.js","App.js","index.js"],"names":["decode","this","getToken","token","isTokenExpired","header","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","Nav","className","to","src","logo","alt","Auth","loggedIn","getProfile","data","userName","onClick","event","preventDefault","logout","Footer","role","href","categories","id","name","icon","link","deals","GET_ALL_CATEGORIES","gql","GET_ALL_TAGS","GET_ALL_MERCHANTS","QUERY_ME","GET_USER_BY_ID","GET_USER_BY_USERNAME","GET_USER_BY_EMAIL","GET_ALL_DEALS","GET_HOT_DEALS","GET_EXPIRING_DEALS","GET_DEALS_BY_KEYWORD","LOGIN_USER","ADD_USER","POST_DEAL","LIKE_DEAL","SAVE_DEAL_BY_ID","FAVORITE_TAG_BY_ID","UNFAVORITE_TAG_BY_ID","ADD_TO_SEARCH_HISTORY","InfoBar","useState","keyword","formState","setFormState","useMutation","addToSearchHistory","handleFormSubmit","error","console","log","variables","history","map","category","deal","onSubmit","type","placeholder","autoComplete","value","onChange","target","vcenter","height","position","vcenterChild","transform","Deal","liked","setLiked","loading","likeDeal","LikeDeal","dealId","productLink","photoLink","title","merchant","homepage","description","startingPrice","dealPrice","style","submittedBy","submittedOn","expiration","_id","likes","tags","tag","tagName","DealSmall","saved","setSaved","saveDeal","SaveDeal","auth","ObtainHotDeals","useQuery","getHotDeals","ObtainExpiringDeals","getExpiringDeals","ObtainYourFeed","getAllDeals","ObtainAllTags","getAllTags","Home","favoriteTag","SaveTag","tagId","slice","dealObj","adjustfieldWidth","width","adjustCardWidth","Login","props","password","login","handleChange","message","tabs","cardWidth","SavedDeals","savedDeals","length","FavoriteTags","favoriteTags","unfavoriteTag","userParam","useParams","userData","userFavoriteTags","getUserByUserName","useEffect","UnfavoriteTag","backgroundColor","color","Avatar","image","identicon","Following","following","user","class","totalFollowers","PostedDealsByUser","Followers","followers","followingExample","avatar","followersExample","ProfileTabs","setIsShown","buttonState","setButtonState","userObj","tab","current","Profile","username","max","Pagination","entriesPerPage","totalEntries","paginate","pageNumbers","previousPage","nextPage","i","Math","ceil","push","useNavigate","number","Results","resultDeals","getDealsByKeyword","currentPage","setCurrentPage","dealsPerPage","indexOfLastDeal","indexOfFirstDeal","currentDeals","pageNumber","Signup","email","addUser","avatarState","setAvatarState","userNameData","emailData","userNameObj","emailObj","getUserByUserEmail","PostDealPage","postDeal","GetAllMerchants","getAllMerchants","merchantList","GetAllCategories","getAllCategories","merch","cat","multiple","GetAllTags","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","element","Post","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d096dc0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.532b191c.png\";","export default __webpack_public_path__ + \"static/media/logo.532b191c.png\";","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token);\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n        const decoded = decode(token, { header: true });\r\n        if (decoded.exp < Date.now() / 1000) {\r\n          return true;\r\n      } else return false;\r\n\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken);\r\n\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n    // this will reload the page and reset the state of the application\r\n    window.location.assign('/');\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React from 'react';\r\nimport {useState} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from './logo.png'\r\n\r\nimport Auth from '../../utils/auth';\r\n\r\nconst Nav = () => {\r\n  const logout = (event) => {\r\n    event.preventDefault();\r\n    Auth.logout();\r\n\r\n  };\r\n  \r\n  return (\r\n    <nav>\r\n        <div className='navbar-brand'>\r\n        <Link to=\"/\">\r\n            <img className='image is-128x128' src={logo} alt=\"logo\"></img>\r\n        </Link>\r\n        </div>\r\n\r\n        <div className='navbar-end'>\r\n            <div className='navbar-item'>\r\n                <div className=\"tabs is-right\">\r\n                    {Auth.loggedIn() ? (\r\n                        <ul>\r\n                            <li>\r\n                                <span><Link to={`/profile/${Auth.getProfile().data.userName}`}><button className=\"button is-warning\">Account</button></Link></span>\r\n                            </li>\r\n                            <li>\r\n                                <span><button onClick={logout} className=\"button is-warning\">Log Out</button></span>\r\n                            </li>\r\n                        </ul>\r\n                    ) : (\r\n                        <ul>\r\n                            <li>\r\n                                <span><Link to=\"/login\"><button className=\"button is-warning\">Log In</button></Link></span>\r\n                            </li>\r\n                            <li>\r\n                                <span><Link to=\"/signup\"><button className=\"button is-warning\">Sign Up</button></Link></span>\r\n                            </li>\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"content has-text-centered\" >\r\n        <Link to=\"/\">\r\n          <p>Home</p>\r\n        </Link>\r\n        <Link to=\"/\">\r\n          <p>\r\n            <span>Donate</span>\r\n            <span\r\n                className=\"emoji\"\r\n                role=\"img\"\r\n                aria-label=\"heart\"\r\n                aria-hidden=\"false\"\r\n            >\r\n                ❤️\r\n            </span>{' '}\r\n          </p>\r\n        </Link>\r\n        <Link to=\"/\">\r\n          <p>Contact Us</p>\r\n        </Link>\r\n        <p>\r\n        © 2022 DealLifter. All Rights Reserved.\r\n        </p>\r\n        <p><a href=\"https://clearbit.com\">Logos provided by Clearbit</a></p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","const categories = [\r\n    {\r\n        id: 1,\r\n        name: `Things To Do`,\r\n        icon: `fa-solid fa-rocket`,\r\n        link: `results?category=things-to-do`\r\n    },\r\n    {\r\n        id: 2,\r\n        name: `Food & Drink`,\r\n        icon: `fa-solid fa-bowl-food`,\r\n        link: `results?category=food-and-drink`\r\n    },\r\n    {\r\n        id: 3,\r\n        name: `Health & Fitness`,\r\n        icon: `fa-solid fa-dumbbell`,\r\n        link: `results?category=health-and-fitness`\r\n    },\r\n    {\r\n        id: 4,\r\n        name: `Beauty & Spas`,\r\n        icon: `fa-solid fa-spa`,\r\n        link: `results?category=beauty-and-spas`\r\n    }, \r\n    {\r\n        id: 5,\r\n        name: `Goods`,\r\n        icon: `fa-solid fa-bag-shopping`,\r\n        link: `results?category=goods`\r\n    },\r\n    {\r\n        id: 6,\r\n        name: `Groceries`,\r\n        icon: `fa-solid fa-basket-shopping`,\r\n        link: `results?category=groceries`\r\n    },\r\n];\r\n\r\nexport default categories;","const deals = [\r\n    {\r\n        id: 1,\r\n        name: `Walmart`,\r\n        link: `results?store=walmart`,\r\n    },\r\n    {\r\n        id: 2,\r\n        name: `Target`,\r\n        link: `results?store=target`,\r\n    },\r\n    {\r\n        id: 3,\r\n        name: `Trader Joe's`,\r\n        link: `results?store=traderjoes`,\r\n    },\r\n    {\r\n        id: 4,\r\n        name: `Amazon`,\r\n        link: `results?store=amazon`,\r\n    },\r\n    {\r\n        id: 5,\r\n        name: `Publix`,\r\n        link: `results?store=publix`,\r\n    },\r\n    {\r\n        id: 6,\r\n        name: `Costco`,\r\n        link: `results?store=costco`,\r\n    },\r\n    \r\n];\r\n\r\nexport default deals;","import { gql } from '@apollo/client';\r\n\r\n// starting here\r\nexport const GET_ALL_CATEGORIES = gql`\r\n  query getAllCategories {\r\n    getAllCategories {\r\n      _id\r\n      name\r\n      icon\r\n      link\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_CATEGORY_BY_ID = gql`\r\n  query getCategoryById($categoryId: ID!) {\r\n    getCategoryById(categoryId: $categoryId) {\r\n      _id\r\n      name\r\n      icon\r\n      link\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_ALL_TAGS = gql`\r\n  query getAllTags {\r\n    getAllTags {\r\n      _id\r\n      tagName\r\n      color\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_TAG_BY_ID = gql`\r\n  query getTagById($tagId: ID!) {\r\n    getTagById(tagId: $tagId) {\r\n      _id\r\n      tagName\r\n      color\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_ALL_MERCHANTS = gql`\r\n  query getAllMerchants {\r\n    getAllMerchants {\r\n      _id\r\n      name\r\n      description\r\n      logo\r\n      homepage\r\n      categories {\r\n        _id\r\n        name\r\n        icon\r\n        link\r\n      }\r\n      deals {\r\n        _id\r\n        title\r\n        productLink\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MERCHANT_BY_ID = gql`\r\n  query getMerchantById($merchantId: ID!) {\r\n    getMerchantById(merchantId: $merchantId) {\r\n      _id\r\n      name\r\n      description\r\n      logo\r\n      homepage\r\n      categories {\r\n        _id\r\n        name\r\n        icon\r\n        link\r\n      }\r\n      deals {\r\n        _id\r\n        title\r\n        productLink\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n// question on querying merchants, do we want to return more data on the deals objects? \r\n// especially when querying a single merchant, like viewing that merchant page, we might want more deal properties\r\nexport const GET_MERCHANT_BY_NAME = gql`\r\n  query getMerchantByName($name: String!) {\r\n    getMerchantByName(name: $name) {\r\n      _id\r\n      name\r\n      description\r\n      logo\r\n      homepage\r\n      categories {\r\n        _id\r\n        name\r\n        icon\r\n        link\r\n      }\r\n      deals {\r\n        _id\r\n        title\r\n        productLink\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n// also maybe change to getMerchantsByCategory? and what about getMerchantsByName\r\n\r\nexport const GET_MERCHANT_BY_CATEGORY = gql`\r\n  query getMerchantByCategory($categoryId: ID!) {\r\n    getMerchantByCategory(categoryId: $categoryId) {\r\n      _id\r\n      name\r\n      description\r\n      logo\r\n      homepage\r\n      categories {\r\n        _id\r\n        name\r\n        icon\r\n        link\r\n      }\r\n      deals {\r\n        _id\r\n        title\r\n        productLink\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ME = gql`\r\n  query getMe($userName: String!) {\r\n    getMe(userName: $userName) {\r\n      _id\r\n      userName\r\n      email\r\n      password\r\n      savedDeals {\r\n        _id\r\n        title\r\n        description\r\n        \r\n      }\r\n      favoriteTags {\r\n        _id\r\n      }\r\n      following {\r\n        _id\r\n      }\r\n      followers {\r\n        _id\r\n      }\r\n      avatar\r\n      searchHistory\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($userId: ID!) {\r\n    getUserById(userId: $userId) {\r\n      _id\r\n      userName\r\n      email\r\n      password\r\n      savedDeals {\r\n        _id\r\n        title\r\n        description\r\n        photoLink\r\n        productLink\r\n        startingPrice\r\n        dealPrice\r\n        merchant {\r\n          _id\r\n          name\r\n        }\r\n        category {\r\n          _id\r\n          name\r\n          icon\r\n          link\r\n        }\r\n        tags {\r\n          _id\r\n          tagName\r\n          color\r\n          createdAt\r\n        }\r\n        submittedBy {\r\n          _id\r\n          userName\r\n        }\r\n        submittedOn\r\n        expiration\r\n        isUsable\r\n        likes\r\n      }\r\n      favoriteTags {\r\n        _id\r\n        tagName\r\n        color\r\n        createdAt\r\n      }\r\n      following {\r\n        _id\r\n        userName\r\n      }\r\n      followers {\r\n        _id\r\n        userName\r\n      }\r\n      avatar\r\n      searchHistory\r\n      totalFollowing\r\n      totalFollowers\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_USERNAME = gql`\r\nquery getUserByUserName($userName: String!) {\r\n  getUserByUserName(userName: $userName) {\r\n    _id\r\n    userName\r\n    email\r\n    password\r\n    savedDeals {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n    }\r\n    favoriteTags {\r\n      _id\r\n      tagName\r\n      color\r\n    }\r\n    following {\r\n      _id\r\n      userName\r\n    }\r\n    followers {\r\n      _id\r\n      userName\r\n    }\r\n    avatar\r\n    searchHistory\r\n    totalFollowing\r\n    totalFollowers\r\n  }\r\n}\r\n`;\r\n\r\nexport const GET_USER_BY_EMAIL = gql`\r\n  query getUserByUserEmail($email: String!) {\r\n    getUserByUserEmail(email: $email) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n// maybe add more properties of each followering that we get back?\r\nexport const GET_FOLLOWERS_BY_USER_ID = gql`\r\n  query getFollowersByUserId($userId: ID!) {\r\n    getFollowersByUserId(userId: $userId) {\r\n      followers {\r\n        _id\r\n        userName\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_FOLLOWING_BY_USER_ID = gql`\r\n  query getFollowingByUserId($userId: ID!) {\r\n    getFollowingByUserId(userId: $userId) {\r\n      following {\r\n        _id\r\n        userName\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_ALL_DEALS = gql`\r\n  query getAllDeals {\r\n    getAllDeals {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_DEAL_BY_ID = gql`\r\n  query getDealById($dealId: ID!) {\r\n    getDealById(dealId: $dealId) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n      comments {\r\n        _id\r\n        commentText\r\n        createdAt\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_HOT_DEALS = gql`\r\n  query getHotDeals {\r\n    getHotDeals {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_PERSONALIZED_DEALS_BY_USER_ID = gql`\r\n  query getPersonalizedDealsByUserId($userId: ID!) {\r\n    getPersonalizedDealsByUserId(userId: $userId) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_EXPIRING_DEALS = gql`\r\n  query getExpiringDeals {\r\n    getExpiringDeals {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_POSTED_DEALS_BY_USER_ID = gql`\r\n  query getPostedDealsByUserId($userId: ID!) {\r\n    getPostedDealsByUserId(userId: $userId) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_DEALS_BY_MERCHANT_ID = gql`\r\n  query getDealsByMerchantId($merchantId: ID!) {\r\n    getDealsByMerchantId(merchantId: $merchantId) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_SAVED_DEALS_BY_USER_ID = gql`\r\n  query getSavedDealsByUserId($userId: ID!) {\r\n    getSavedDealsByUserId(userId: $userId) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_DEALS_BY_TAG_ID = gql`\r\n  query getDealsByTagId($tagId: ID!) {\r\n    getDealsByTagId(tagId: $tagId) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n        color\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_DEALS_BY_KEYWORD = gql`\r\n  query getDealsByKeyword($keyword: String!) {\r\n    getDealsByKeyword(keyword: $keyword) {\r\n      _id\r\n      title\r\n      description\r\n      photoLink\r\n      productLink\r\n      startingPrice\r\n      dealPrice\r\n      merchant {\r\n        _id\r\n        name\r\n      }\r\n      category {\r\n        _id\r\n        name\r\n      }\r\n      tags {\r\n        _id\r\n        tagName\r\n      }\r\n      submittedBy {\r\n        _id\r\n        userName\r\n      }\r\n      submittedOn\r\n      expiration\r\n      isUsable\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_SEARCH_HISTORY_BY_USER_ID = gql`\r\n  query getSearchHistoryByUserId($userId: ID!) {\r\n  getSearchHistoryByUserId(userId: $userId) {\r\n    _id\r\n    keyword\r\n    categoryFilter {\r\n      _id\r\n    }\r\n    tagFilter {\r\n      _id\r\n    }\r\n    merchantFilter {\r\n      _id\r\n    }\r\n  }\r\n}`","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation login($userName: String!, $password: String!) {\r\n    login(userName: $userName, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($userName: String!, $email: String!, $password: String!) {\r\n    addUser(userName: $userName, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_USER = gql`\r\n  mutation updateUser($userName: String!, $email: String, $password: String, $savedDeals: [ID], $favoriteTags: [ID]) {\r\n    updateUser(userName: $userName, email: $email, password: $password, savedDeals: $savedDeals, favoriteTags: $favoriteTags) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CREATE_TAG = gql`\r\n  mutation createTag($tagName: String!, $color: String) {\r\n    createTag(tagName: $tagName, color: $color) {\r\n      _id\r\n      tagName\r\n      color\r\n      createdAt\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_TAG = gql`\r\n  mutation updateTag($tagId: ID!, $tagName: String!, $color: String) {\r\n    updateTag(tagId: $tagId, tagName: $tagName, color: $color) {\r\n      _id\r\n      tagName\r\n      color\r\n      createdAt\r\n    }\r\n  }\r\n`\r\n\r\nexport const REMOVE_TAG_FROM_DEAL = gql`\r\n  mutation RemoveTagFromDeal($tagId: ID!, $dealId: ID!) {\r\n    removeTagFromDeal(tagId: $tagId, dealId: $dealId) {\r\n      tags {\r\n        _id\r\n      }\r\n      _id\r\n    }\r\n  }\r\n`\r\nexport const CREATE_CATEGORY = gql`\r\n  mutation createCategory($name: String!, $icon: String!, $link: String!) {\r\n    createCategory(name: $name, icon: $icon, link: $link) {\r\n      name\r\n      _id\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_CATEGORY = gql`\r\n  mutation updateCategory($categoryId: ID!, $name: String!, $icon: String!, $link: String!) {\r\n    updateCategory(categoryId: $categoryId, name: $name, icon: $icon, link: $link) {\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`\r\n\r\nexport const CREATE_MERCHANT = gql`\r\n  mutation createMerchant($name: String!, $homepage: String!, $description: String, $logo: String, $categories: [ID]) {\r\n    createMerchant(name: $name, homepage: $homepage, description: $description, logo: $logo, categories: $categories) {\r\n      _id\r\n      name\r\n      description\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_MERCHANT = gql`\r\n  mutation updateMerchant($merchantId: ID!, $name: String!, $description: String, $logo: String, $homepage: String) {\r\n    updateMerchant(merchantId: $merchantId, name: $name, description: $description, logo: $logo, homepage: $homepage) {\r\n      _id\r\n      name\r\n      description\r\n      logo\r\n      homepage\r\n    }\r\n  }\r\n`\r\n\r\nexport const POST_DEAL = gql`\r\n  mutation postDeal($title: String!, $productLink: String!, $photoLink: String!, $description: String, $startingPrice: String, $dealPrice: String, $merchant: ID!, $category: ID!, $tags: [ID], $submittedBy: ID, $expiration: String) {\r\n    postDeal(title: $title, productLink: $productLink, photoLink: $photoLink, description: $description, startingPrice: $startingPrice, dealPrice: $dealPrice, merchant: $merchant, category: $category, tags: $tags, submittedBy: $submittedBy, expiration: $expiration) {\r\n      _id\r\n      title\r\n      description\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_DEAL = gql`\r\n  mutation updateDeal($dealId: ID!, $title: String!, $description: String, $link: String, $photoLink: String, $productLink: String, $startingPrice: String, $dealPrice: String, $merchant: ID, $category: ID, $tags: [ID]) {\r\n    updateDeal(dealId: $dealId, title: $title, description: $description, link: $link, photoLink: $photoLink, productLink: $productLink, startingPrice: $startingPrice, dealPrice: $dealPrice, merchant: $merchant, category: $category, tags: $tags) {\r\n      _id\r\n      title\r\n      description\r\n    }\r\n  }\r\n`\r\n\r\nexport const LIKE_DEAL = gql`\r\n  mutation likeDeal($dealId: ID!) {\r\n  likeDeal(dealId: $dealId) {\r\n    _id\r\n    likes\r\n  }\r\n}\r\n`\r\n\r\nexport const SAVE_DEAL_BY_ID = gql`\r\n  mutation saveDealById($dealId: ID!) {\r\n    saveDealById(dealId: $dealId) {\r\n      _id\r\n      userName\r\n      savedDeals {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const FAVORITE_TAG_BY_ID = gql`\r\n  mutation favoriteTagById($tagId: ID!) {\r\n    favoriteTagById(tagId: $tagId) {\r\n      _id\r\n      userName\r\n      favoriteTags {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const UNFAVORITE_TAG_BY_ID = gql`\r\n  mutation unfavoriteTagById($tagId: ID!) {\r\n    unfavoriteTagById(tagId: $tagId) {\r\n      _id\r\n      userName\r\n      favoriteTags {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const ADD_TO_FOLLOWING = gql`\r\n  mutation addToFollowing($userId: ID!) {\r\n    addToFollowing(userId: $userId) {\r\n      _id\r\n      userName\r\n      following {\r\n        _id\r\n      }\r\n      followers {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const ADD_TO_FOLLOWERS = gql`\r\n  mutation addToFollowers($userId: ID!) {\r\n    addToFollowers(userId: $userId) {\r\n      _id\r\n      userName\r\n      following {\r\n        _id\r\n      }\r\n      followers {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const CREATE_SEARCH = gql`\r\n  mutation createSearch($keyword: String!, $categoryFilter: [ID], $merchantFilter: [ID], $tagFilter: [ID]) {\r\n    createSearch(keyword: $keyword, categoryFilter: $categoryFilter, merchantFilter: $merchantFilter, tagFilter: $tagFilter) {\r\n      _id\r\n      keyword\r\n    }\r\n  }\r\n`\r\n\r\nexport const ADD_TO_SEARCH_HISTORY = gql`\r\n  mutation addToSearchHistory($keyword: String!) {\r\n    addToSearchHistory(keyword: $keyword) {\r\n      _id\r\n      userName\r\n      searchHistory\r\n    }\r\n  }\r\n`\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './categories';\r\nimport categories from './categories';\r\nimport './deals';\r\nimport deals from './deals';\r\n\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { GET_DEALS_BY_KEYWORD } from '../../utils/queries';\r\nimport { CREATE_SEARCH, ADD_TO_SEARCH_HISTORY } from '../../utils/mutations';\r\n\r\n\r\nconst InfoBar = () => {\r\n  const [formState, setFormState] = useState({\r\n    keyword: '',\r\n  });\r\n  \r\n\r\n\r\n  // const [createSearch, {error:searchError, data: searchData}] = useMutation(CREATE_SEARCH);\r\n  const [addToSearchHistory, {error: historyError, data: historyData}] = useMutation(ADD_TO_SEARCH_HISTORY);\r\n\r\n \r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(formState);\r\n    try {\r\n\r\n     \r\n      const { history } = await addToSearchHistory({\r\n        variables: { ...formState },\r\n      })\r\n      \r\n    } catch (error) {\r\n\r\n    }\r\n\r\n    window.location.assign(`/results/${formState.keyword}`)\r\n  };\r\n\r\n\r\n  return (\r\n    <nav className='navbar'>\r\n      <div className='navbar-menu'>\r\n\r\n        <div className='navbar-item has-dropdown is-hoverable'>\r\n          <a className=\"navbar-link\">\r\n            Categories\r\n          </a>\r\n          <div className=\"navbar-dropdown\">\r\n            {categories.map((category) => (\r\n              <div className='navbar-item'>\r\n                <Link to={category.link}>\r\n                  <span>{category.name}</span>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className='navbar-item has-dropdown is-hoverable'>\r\n          <a className=\"navbar-link\">\r\n            Deals of the Day\r\n          </a>\r\n          <div className=\"navbar-dropdown\">\r\n            {deals.map((deal) => (\r\n              <div className='navbar-item'>\r\n                <Link to={deal.link}>\r\n                  <span>{deal.name}</span>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"navbar-item navbar-end\">\r\n          <div className=\"field has-addons\">\r\n            <p className=\"control\">\r\n              <form onSubmit={handleFormSubmit}>\r\n                <input\r\n                  className=\"input is-rounded\"\r\n                  type=\"text\"\r\n                  placeholder=\"Search the deals\"\r\n                  autoComplete=\"off\"\r\n                  name=\"keyword\"\r\n                  value={formState.keyword}\r\n                  onChange={handleChange}\r\n                />\r\n                <div className=\"field\">\r\n                  <div className=\"buttons my-2\">\r\n                    <button className=\"button is-warning\">\r\n                      <span className=\"icon is-small\">\r\n                        <i className=\"fas fa-check\"></i>\r\n                      </span>\r\n                      <span>Submit</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </p>\r\n            <p className=\"control\">\r\n              <button className=\"button is-rounded is-warning\">\r\n                <span className=\"icon is-small is-left\">\r\n                  <i className=\"fas fa-search\"></i>\r\n                </span>\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default InfoBar;","import React, { useState } from 'react';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from \"react-router-dom\";\r\nimport '../Deal/style.css'\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { UPDATE_USER, SAVE_DEAL_BY_ID, LIKE_DEAL } from \"../../utils/mutations\";\r\nimport { GET_USER_BY_USERNAME, GET_USER_BY_ID } from '../../utils/queries';\r\n\r\nconst vcenter = {height: 'auto', position: 'relative'};\r\nReact.createElement(\"div\", {style: vcenter});\r\nconst vcenterChild = {transform: 'translateY(100%)'};\r\nReact.createElement(\"div\", {style: vcenterChild});\r\n\r\nconst Deal = ({ deal }) => {\r\n    const [likes, setLikes] = useState(0);\r\n    const [liked, setLiked] = useState(false);\r\n    const [saved, setSaved] = useState(false);\r\n    const [saveDeal, { data, loading, error }] = useMutation(SAVE_DEAL_BY_ID);\r\n    const [likeDeal, {data:dealData, loading:dealLoading, error:dealError}] = useMutation(LIKE_DEAL);\r\n\r\n    function GetUserName (name) {\r\n        const {loading, data} = useQuery(GET_USER_BY_USERNAME, { variables: { userName: name }});\r\n        const userId = data?.getUserByUserName._id || {};\r\n        return userId;\r\n    }\r\n      \r\n    function GetUserByUserId (userId) {\r\n        const {loading, data} = useQuery(GET_USER_BY_ID, { variables: { userId: userId }});\r\n        const user = data?.getUserById || [];\r\n        return user;\r\n    }\r\n    \r\n    const SaveDeal = async (dealId) => {\r\n        try {\r\n            const { data } = await saveDeal({ variables: { dealId: dealId }});\r\n            setSaved(true);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n\r\n    const LikeDeal = async (dealId) => {\r\n        try {\r\n            const {data} = await likeDeal({ variables: { dealId: dealId }});\r\n            setLiked(true);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n    // const likeDeal = ({deal}) => {\r\n    //     setLiked(!liked)\r\n\r\n    //     if (liked) {\r\n    //         setLikes(deal.likes + 1);\r\n    //     }\r\n\r\n    //     else {\r\n    //         setLikes(deal.likes - 1);\r\n    //     }\r\n    // }\r\n\r\n    const saveDealToUserProfile = async (userId, {deal}) => {\r\n        //talk to backend to save the deal to the user profile with matching userID\r\n        \r\n        //call Mutation from back end\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className = \"p-6 ml-6 deal_Container card is-horizontal card-content column is-four-fifths is-flex\">\r\n            <div className='columns is-ventered'>\r\n                <div className = 'column is-3'> \r\n                    <div className = 'media-content card-image is-flex is-vcentered m-1'>\r\n                        <a  href = {deal.productLink}\r\n                            target = '_blank'    \r\n                        >\r\n                            <img className = \"deal_Image image\" src = {deal.photoLink} alt = {`photo of ${deal.title}`}></img>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n               \r\n                <div className = \"column media-content dealInfoContainer is-4 m-1\">\r\n                    <a \r\n                        className = \"is-size-3 deal_Title\"\r\n                        href = {deal.productLink}\r\n                        target = '_blank'\r\n                    >\r\n                        {deal.title}\r\n                    </a>\r\n                    <br></br>\r\n                    <a \r\n                        className = \"deal_Merchant is-size-5\"\r\n                        href = {deal.merchant.homepage}\r\n                        target = '_blank'\r\n                    >\r\n                        {deal.merchant.name}\r\n                    </a>\r\n                    <div className = \"deal_Description\">{deal.description}</div>\r\n                    <br></br>\r\n                    <div className = \"deal_StartingPrice\">Original Price: ${deal.startingPrice}</div>\r\n                    <div className = \"deal_DealPrice\">Price Now: ${deal.dealPrice}</div>\r\n                    <br></br>\r\n                </div>\r\n\r\n                <div className = \"deal_UserInfo card-content column is-2\" style={vcenter}>\r\n                    <div style={vcenterChild}>\r\n                        <div className = 'deal_UserUsername'>Posted by: \r\n                            <Link to = {`/profile/${deal.submittedBy.userName}`}>\r\n                                {deal.submittedBy.userName}\r\n                            </Link>\r\n                        </div>\r\n                        <div className = 'deal_UserPostTime'>\r\n                            Posted: {Date(deal.submittedOn)}\r\n                        </div>\r\n                        <div className = 'deal_Expiration'>\r\n                            Expiration: {Date(deal.expiration)}\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n                <div className='column is-1 is-flex is-vcentered'>\r\n                    <div className = \"deal_UserInteractionContainter columns is-flex is-vcentered\">\r\n                        <div className = 'column is-full'>\r\n                            {/* <button className = {saved === true ? 'button is-large is-full-width is-pulled-right has-background-warning' : 'button is-large is-full-width is-pulled-right has-background-white'} onClick= {() => SaveDeal(deal._id)}>\r\n                                <div className = 'saveButon'>\r\n                                    <i className={saved === true ? 'is-centered fas fa-solid fa-star icon' : 'is-centered fas fa-light fa-star icon'}></i>  \r\n                                </div>\r\n                            </button>\r\n                            <div>Save</div>\r\n                            <br></br> */}\r\n                            <button className = {liked === true ? 'button is-large is-pulled-right is-full-width has-background-danger' : 'button is-full-width is-large is-pulled-right has-background-white'} onClick= {() => LikeDeal(deal._id)}>\r\n                                <div className = 'likeButton'>\r\n                                    <i className={liked === true ? 'is-centered fas fa-solid fa-heart icon' : 'is-centered fas fa-light fa-heart icon'}></i>  \r\n                                    <span>{deal.likes}</span> \r\n                                </div>\r\n                            </button>\r\n                            <div>Like</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='column is-2 is-flex is-vcentered'>\r\n                    <div className='columns is-flex is-vcentered'>\r\n                        {deal.tags.map((tag) => (\r\n                            <div className='column'>\r\n                                <div className=\"tags has-addons\">\r\n                                    <span className=\"tag\">\r\n                                        {tag.tagName}\r\n                                    </span>\r\n                            </div><br></br>\r\n                        </div>))}           \r\n                    </div>\r\n                </div>\r\n               \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Deal;","import React, { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport '../DealSmall/style.css'\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { UPDATE_USER, SAVE_DEAL_BY_ID, LIKE_DEAL } from \"../../utils/mutations\";\r\nimport { GET_USER_BY_USERNAME, GET_USER_BY_ID } from '../../utils/queries';\r\nimport auth from '../../utils/auth';\r\n\r\nconst DealSmall = ({ deal }) => {\r\n    const [likes, setLikes] = useState(0);\r\n    const [liked, setLiked] = useState(false);\r\n    \r\n    const [saved, setSaved] = useState(false);\r\n    const [saveDeal, { data, loading, error }] = useMutation(SAVE_DEAL_BY_ID);\r\n    const [likeDeal, {data:dealData, loading:dealLoading, error:dealError}] = useMutation(LIKE_DEAL);\r\n\r\n\r\n    function GetUserName (name) {\r\n        const {loading, data} = useQuery(GET_USER_BY_USERNAME, { variables: { userName: name }});\r\n        const userId = data?.getUserByUserName._id || {};\r\n        return userId;\r\n    }\r\n      \r\n    function GetUserByUserId (userId) {\r\n        const {loading, data} = useQuery(GET_USER_BY_ID, { variables: { userId: userId }});\r\n        const user = data?.getUserById || [];\r\n        return user;\r\n    }\r\n    \r\n    const SaveDeal = async (dealId) => {\r\n        try {\r\n            const { data } = await saveDeal({ variables: { dealId: dealId }});\r\n            setSaved(true);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n  \r\n   \r\n    const LikeDeal = async (dealId) => {\r\n        try {\r\n            const {data} = await likeDeal({ variables: { dealId: dealId }});\r\n            setLiked(true);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n\r\n    // const likeDeal = ({deal}) => {\r\n    //     setLiked(!liked)\r\n\r\n    //     if (liked) {\r\n    //         setLikes(deal.likes + 1);\r\n    //     }\r\n\r\n    //     else {\r\n    //         setLikes(deal.likes - 1);\r\n    //     }\r\n    // }\r\n\r\n    const saveDealToUserProfile = (userId, {deal}) => {\r\n        //talk to backend to save the deal to the user profile with matching userID\r\n\r\n        //call Mutation from back end\r\n    }\r\n\r\n    return (\r\n        <div className = \"dealSmall_Container card p-4 m-4 rows\">\r\n            <div className = \"row media-content\">\r\n                <a \r\n                    className = \"is-size-4 dealSmall_Title\"\r\n                    href = {deal.productLink}\r\n                    target = '_blank'\r\n                >\r\n                    {deal.title}\r\n                </a>\r\n                <br></br>\r\n                <a \r\n                    className = \"is-size-5 dealSmall_Merchant\"\r\n                    href = {deal.merchant.homepage}\r\n                    target = '_blank'\r\n                >\r\n                    {deal.merchant.name}\r\n                </a>\r\n            </div>\r\n\r\n\r\n            <div className = 'image_containter '>\r\n                <a\r\n                    href = {deal.productLink}\r\n                    target = '_blank'\r\n                >\r\n                     <img className = \"card-img-top image is-centered\" src = {deal.photoLink} alt = {`photo of ${deal.title}`}></img>\r\n                 </a>\r\n            </div>\r\n\r\n            <div className = \"dealSmall_InfoContainer rowSmall\">\r\n                <div className = \"is-size-5 dealSmall_StartingPrice\"><del>${deal.startingPrice}</del></div>\r\n                <div className = \"is-size-5 DealSmall_DealPrice\"><strong>${deal.dealPrice}</strong></div>\r\n                <br></br>\r\n            </div>\r\n\r\n            <div className = \"dealSmall_UserInfo rowSmall\">\r\n                    <div className = 'dealSmall_UserUsername'>Posted by: \r\n                        <Link to = {`/profile/${deal.submittedBy.userName}`}>\r\n                            {deal.submittedBy.userName}\r\n                        </Link>\r\n                    </div>\r\n                <div className = 'dealSmall_UserPostTime'>Posted: {Date(deal.submittedOn)}</div>\r\n            </div>\r\n            \r\n            <br></br>\r\n{auth.loggedIn()?(<div className = \"dealSmall_UserInteractionContainter has-text-centered is-pulled-left\">\r\n                <button className = {saved === true ? 'button is-small is-pulled-right box has-background-warning' : 'button is-pulled-right is-small box has-background-white'} onClick= {() => SaveDeal(deal._id)}>\r\n                    <div className = 'saveButon'>\r\n                        <i className={saved === true ? 'fas fa-solid fa-star' : 'fas fa-light fa-star'}></i>            \r\n                    </div>\r\n                </button>\r\n            </div>):(\r\n                <>\r\n                </>\r\n            )}\r\n            \r\n\r\n            <div className = \"dealSmall_UserInteractionContainter has-text-centered is-pulled-right\">\r\n                <button className = {liked === true ? 'button is-small is-pulled-right box has-background-danger' : 'button is-pulled-right is-small box has-background-white'} onClick= {() => LikeDeal(deal._id)}>\r\n                    <div className = 'saveButon'>\r\n                        <i className={liked === true ? 'fas fa-solid fa-heart' : 'fas fa-light fa-heart'}></i>\r\n                        <span>{deal.likes}</span>            \r\n                    </div>\r\n                </button>\r\n                \r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DealSmall;","import { useQuery, useMutation } from '@apollo/client';\r\nimport React from 'react';\r\nimport Deal from '../components/Deal'\r\nimport DealSmall from '../components/DealSmall'\r\nimport auth from '../utils/auth';\r\nimport { GET_ALL_DEALS, GET_HOT_DEALS, GET_PERSONALIZED_DEALS_BY_USER_ID, GET_ALL_TAGS, GET_EXPIRING_DEALS } from '../utils/queries';\r\nimport { FAVORITE_TAG_BY_ID } from \"../utils/mutations\";\r\n\r\nimport dealArray from '../utils/sampledata'\r\nimport { Link } from 'react-router-dom';\r\n\r\n//might need useEffect here\r\n\r\nfunction ObtainHotDeals () {\r\n  const {loading, data} = useQuery(GET_HOT_DEALS);\r\n  const hotDeals = data?.getHotDeals || [];\r\n  return hotDeals\r\n}\r\n\r\nfunction ObtainExpiringDeals () {\r\n  const {loading, error, data} = useQuery(GET_EXPIRING_DEALS);\r\n  const expiringDeals = data?.getExpiringDeals || [];\r\n  return expiringDeals\r\n}\r\n\r\nfunction ObtainYourFeed () {\r\n  const userId = auth.getProfile().data._id;\r\n\r\n  // const {loading, error, data} = useQuery(GET_PERSONALIZED_DEALS_BY_USER_ID, {\r\n  //   variables: {userId}\r\n  // });\r\n  const {loading, error, data} = useQuery(GET_ALL_DEALS);\r\n\r\n  const yourFeed = data?.getAllDeals || [];\r\n  return yourFeed\r\n}\r\n\r\nfunction ObtainAllTags () {\r\n  const {loading, error, data} = useQuery(GET_ALL_TAGS);\r\n  const allTags = data?.getAllTags || [];\r\n  return allTags\r\n}\r\n\r\nconst recentDeals = dealArray;\r\nconst yourFeed = dealArray;\r\n\r\nconst loggedIn = true; // should remove this later\r\n\r\nexport default function Home() {\r\n  const [favoriteTag, { data, loading, error }] = useMutation(FAVORITE_TAG_BY_ID);\r\n\r\n  const SaveTag = async (tagId) => {\r\n    console.log('tagid', tagId);\r\n    try {\r\n        console.log(tagId);\r\n        const { data } = await favoriteTag({ variables: { tagId: tagId }});\r\n        console.log('saved tag!')\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n  }\r\n\r\n  if (auth.loggedIn()) { // should be auth.loggedIn\r\n    return (\r\n      <div className = 'm-5'>\r\n        <section className = 'section is-flex is-justify-content-right'>\r\n          <Link to = '/post'>\r\n            <button className = 'button is-large is-pulled-right has-background-danger-light is-white'>POST A DEAL +</button>\r\n          </Link>\r\n        </section>\r\n  \r\n        <div className = 'featuredDeals section is-fullwidth'>\r\n          <div className='box is-fullwidth'>\r\n            <h3 className='title'>Featured Deals</h3>\r\n            <div className = 'is-flex p-6'>\r\n                {ObtainHotDeals().slice(0,4).map((dealObj) => (\r\n                  <DealSmall deal = {dealObj}></DealSmall>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n            \r\n        <div className = 'featuredDeals section is-fullwidth'>\r\n          <div className='box'>\r\n            <h3 className='title'>Follow Popular Tags</h3>\r\n            <div className='columns'>\r\n              {ObtainAllTags().map((tag) => (<div className='column is-one-fifth'><div className='box has-background-warning' onClick={()=>SaveTag(tag._id)}><p className='is-size-4 has-text-centered'>{tag.tagName}</p></div></div>))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className = 'feedDeals section is-fullwidth'>\r\n          <div className='box'>\r\n            <h3 className='title'>Your Feed</h3>\r\n            <div className='columns'>\r\n              <div className = 'column is-full'>\r\n                {ObtainYourFeed().slice(0,10).map((dealObj) => (\r\n                  <Deal deal = {dealObj}></Deal>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>         \r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n\r\n  else {\r\n    return (\r\n      <div className = 'm-5'>  \r\n        <div className = 'featuredDeals section is-fullwidth'>\r\n          <div className='box'>\r\n            <h3 className='title'>Featured Deals:</h3>\r\n            <div className = 'is-flex p-6'>\r\n              {ObtainHotDeals().slice(0,5).map((dealObj) => (\r\n                <DealSmall deal = {dealObj}></DealSmall>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n        <div className = 'feedDeals section is-fullwidth'>\r\n          <div className='box'>\r\n            <h3 className='title'>Act Fast Deals:</h3>\r\n            <div className='columns'>  \r\n              <div className = 'column is-full'>\r\n                {ObtainExpiringDeals().slice(0,3).map((dealObj) => (\r\n                  <Deal deal = {dealObj}></Deal>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client';\r\nimport { LOGIN_USER } from '../utils/mutations';\r\n\r\nimport Auth from '../utils/auth';\r\n\r\n\r\nconst adjustfieldWidth = { width: '250%' };\r\nReact.createElement(\"div\", { style: adjustfieldWidth });\r\nconst adjustCardWidth = { width: '40%' };\r\nReact.createElement(\"div\", { style: adjustCardWidth });\r\n\r\nconst Login = (props) => {\r\n  const [formState, setFormState] = useState({ userName: '', password: '' });\r\n  const [login, { error, data }] = useMutation(LOGIN_USER);\r\n\r\n  // update state based on form input changes\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  // submit form\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(formState);\r\n    try {\r\n      const { data } = await login({\r\n        variables: { ...formState },\r\n      });\r\n\r\n      Auth.login(data.login.token);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n\r\n    // clear form values\r\n    setFormState({\r\n      userName: '',\r\n      password: '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section className='section'>    \r\n        <div className=\"columns is-mobile is-centered\">\r\n            <div className=\"card\" style={adjustCardWidth}>\r\n                <header className=\"card-header\">\r\n                    <p className=\"card-header-title is-centered\">\r\n                        <span className=\"icon-text\">\r\n                            <span className=\"icon has-text-warning\">\r\n                                <i className=\"fas fa-info-circle\"></i>\r\n                            </span>\r\n                            <span>Log In</span>\r\n                        </span>\r\n                    </p>\r\n                </header>\r\n                <section className=\"card-content\">\r\n                    {data ? (\r\n                        <p>\r\n                            Success! You may now head{' '}\r\n                            <Link to=\"/\">back to the homepage.</Link>\r\n                        </p>\r\n                    ) : (\r\n                    <form onSubmit={handleFormSubmit}>\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Username</label>\r\n                            <div className=\"control has-icons-left is-expanded\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"userName\" \r\n                                    placeholder=\"Your username\"\r\n                                    type=\"text\"  \r\n                                    value={formState.userName}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                <i className=\"fas fa-user\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    \r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Password</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\" \r\n                                    placeholder=\"********\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"  \r\n                                    value={formState.password}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>    \r\n                                <span className=\"icon is-small is-left\">\r\n                                <i className=\"fas fa-key\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                                <div className=\"buttons is-centered my-2\">\r\n                                    <button className=\"button is-warning\">\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-check\"></i>\r\n                                        </span>\r\n                                        <span>Submit</span>\r\n                                    </button>\r\n                                    <button className=\"button is-warning is-outlined is-link\">\r\n                                        <span>\r\n                                            <Link to=\"/\">\r\n                                                Cancel\r\n                                            </Link>\r\n                                        </span>\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                    </form>\r\n                    )}\r\n                    {error && (\r\n                    <div className=\"is-warning\">\r\n                        {error.message}\r\n                    </div>\r\n                    )}\r\n                </section>\r\n            </div>         \r\n        </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","const tabs = [\r\n    {\r\n        id: 1,\r\n        name: `Saved Deals`,\r\n        link: `saved-deals`\r\n    },\r\n    {\r\n        id: 2,\r\n        name: `Favorite Tags`,\r\n        link: `favorite-tags`\r\n    },\r\n    {\r\n        id: 3,\r\n        name: `Following`,\r\n        link: `following`\r\n    }, \r\n    {\r\n        id: 4,\r\n        name: `Followers`,\r\n        link: `followers`,\r\n    },\r\n];\r\n\r\nexport default tabs;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/SavedDeals.css'\r\n\r\nconst cardWidth = { width: '100%' };\r\nReact.createElement(\"div\", { style: cardWidth });\r\n\r\nconst SavedDeals = ({\r\n  savedDeals,//all params need to be changed later\r\n}) => {\r\n  console.log(savedDeals);\r\n\r\n  if (savedDeals.length===0) { //needs to be changed later\r\n    return <h3>No Saved Deals Yet</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"columns parent\">\r\n      {savedDeals &&\r\n        savedDeals.map((deal) => (\r\n            <div className=\"column is-one-quarter child\">\r\n                <div className=\"card\" style={cardWidth}>\r\n                    <header className=\"card-header\">\r\n                        <p className=\"card-header-title\">\r\n                        {deal.title}\r\n                        </p>\r\n                    </header>\r\n                <div className=\"card-image\">\r\n                <figure className=\"image\">\r\n                    <img src={deal.photoLink} alt={deal.title}></img>\r\n                </figure>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                <div className=\"content\">\r\n                    <p>{deal.description}</p>\r\n                    <p><a href={deal.productLink}>#PurchaseHere</a></p>\r\n                    <p><del>${deal.startingPrice}</del> <strong>${deal.dealPrice}</strong></p>\r\n                </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavedDeals;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { UNFAVORITE_TAG_BY_ID } from '../../utils/mutations';\r\nimport { GET_USER_BY_USERNAME } from '../../utils/queries';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\n\r\nconst FavoriteTags = ({\r\n  favoriteTags,//all params need to be changed later\r\n}) => {\r\n  console.log(favoriteTags);\r\n  const [unfavoriteTag, {data, loading, error}] = useMutation(UNFAVORITE_TAG_BY_ID);\r\n  const { userName: userParam } = useParams();\r\n  const {loading: userLoading, data: userData} = useQuery(GET_USER_BY_USERNAME, { variables: { userName: userParam }});\r\n  const userFavoriteTags = userData?.getUserByUserName.favoriteTags || {};\r\n  console.log(userFavoriteTags);\r\n\r\n  useEffect(() => {\r\n    console.log(favoriteTags);\r\n  }, []);\r\n\r\n  if (favoriteTags.length===0) { //needs to be changed later\r\n    return <h3>No Favorite Tags Yet</h3>;\r\n  };\r\n\r\n  const UnfavoriteTag = async (id) => {\r\n    try {\r\n      const {data} = await unfavoriteTag({ variables: { tagId: id }});\r\n      console.log(favoriteTags);\r\n      \r\n    } catch (err) {\r\n      console.error(err);\r\n  }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        {favoriteTags && favoriteTags.map((tag) => (\r\n            <section className=\"hero\" style={{backgroundColor: `${tag.color}`}}>\r\n                <div className=\"hero-body\">\r\n                    <div className=\"container has-text-centered\">\r\n                      <div className='columns'>\r\n                        <div className=\"column is-11\">\r\n                          <span className=\"title\">\r\n                              {tag.tagName}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"column is-1\">\r\n                          <button className=\"delete is-large\" onClick={()=>UnfavoriteTag(tag._id)}></button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoriteTags;\r\n","import React from 'react';\r\nimport SVG from 'react-inlinesvg';\r\nimport { identicon } from 'minidenticons'\r\n\r\nconst Avatar = ({\r\n    userName\r\n}) => {\r\n\r\n    const image = identicon(userName);\r\n    console.log('image')\r\n\r\n    return(\r\n        <div>\r\n            <SVG src={image} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Avatar from '../Avatar/index'\r\nimport '../styles/Following.css'\r\n\r\nconst cardWidth = { width: '100%' };\r\nReact.createElement(\"div\", { style: cardWidth });\r\n\r\nconst Following = ({\r\n    following,//all params need to be changed later\r\n}) => {\r\n  if (following.length ===0) { //needs to be changed later\r\n    console.log(following);\r\n    return <h3>This user does not follow anyone...</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"columns parent\">\r\n      {following &&\r\n        following.map((user) => (\r\n            <div className=\"column is-2 child\">\r\n                <div className=\"card\" style={cardWidth}>\r\n                    <header className=\"card-header\">\r\n                        <p className=\"card-header-title\">\r\n                        <Link className=\"has-text-black has-text-centered\" to={`profile/${user.userName}`}>\r\n                        {user.userName}</Link>\r\n                        </p>\r\n                    </header>\r\n                    <div className=\"card-image\">\r\n                        <figure className=\"image\">\r\n                            <Avatar userName={user.userName} />\r\n                        </figure>\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                        <div className=\"content\">\r\n                            <span class=\"icon-text px-2\">\r\n                                <span class=\"icon\">\r\n                                    <i class=\"fas fa-users\"></i>\r\n                                </span>\r\n                                <span>{user.totalFollowers}</span>\r\n                            </span>\r\n                            <span class=\"icon-text px-2\">\r\n                                <span class=\"icon\">\r\n                                    <i class=\"fas fa-lightbulb\"></i>\r\n                                </span>\r\n                                <span>{user.PostedDealsByUser}</span>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>    \r\n            </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Avatar from '../Avatar/index'\r\nimport '../styles/Following.css'\r\nconst cardWidth = { width: '100%' };\r\nReact.createElement(\"div\", { style: cardWidth });\r\n\r\nconst Followers = ({\r\n    followers,//all params need to be changed later\r\n}) => {\r\n  if (followers.length === 0) { //needs to be changed later\r\n    console.log(followers);\r\n    return <h3>No followers yet...</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"columns parent\">\r\n      {followers &&\r\n        followers.map((user) => (\r\n            <div className=\"column is-2 child\">\r\n                <div className=\"card\" style={cardWidth}>\r\n                    <header className=\"card-header\">\r\n                        <p className=\"card-header-title\">\r\n                        <Link className=\"has-text-black has-text-centered\" to={`profile/${user.userName}`}>\r\n                        {user.userName}</Link>\r\n                        </p>\r\n                    </header>\r\n                    <div className=\"card-image\">\r\n                        <figure className=\"image\">\r\n                            <Avatar userName={user.userName} />\r\n                        </figure>\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                        <div className=\"content\">\r\n                            <span className=\"icon-text px-2\">\r\n                                <span className=\"icon\">\r\n                                    <i className=\"fas fa-users\"></i>\r\n                                </span>\r\n                                <span>{user.totalFollowers}</span>\r\n                            </span>\r\n                            <span className=\"icon-text px-2\">\r\n                                <span className=\"icon\">\r\n                                    <i className=\"fas fa-lightbulb\"></i>\r\n                                </span>\r\n                                <span>{user.PostedDealsByUser}</span>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>    \r\n            </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React from 'react';\r\nimport { Link, renderMatches } from 'react-router-dom';\r\nimport './tabs';\r\nimport tabs from './tabs';\r\nimport {useState} from 'react';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nimport PostedDeals from '../PostedDeals/index'\r\nimport SavedDeals from '../SavedDeals/index'\r\nimport FavoriteTags from '../FavoriteTags/index'\r\nimport Following from '../Following/index'\r\nimport Followers from '../Followers/index'\r\n\r\nimport { GET_USER_BY_USERNAME } from '../../utils/queries';\r\n\r\nconst followingExample = [\r\n  {\r\n    userName: 'Anthony',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 2,\r\n    PostedDealsByUser: 1,\r\n  },\r\n  {\r\n    userName: 'Kashane',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 6,\r\n    PostedDealsByUser: 1,\r\n  },\r\n  {\r\n    userName: 'Xuyang',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 8,\r\n    PostedDealsByUser: 4,\r\n  },\r\n  {\r\n    userName: 'Jeff',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 2,\r\n    PostedDealsByUser: 3,\r\n  },\r\n  {\r\n    userName: 'Andres',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 5,\r\n    PostedDealsByUser: 1,\r\n  },\r\n  {\r\n    userName: 'Jacob',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 3,\r\n    PostedDealsByUser: 7,\r\n  },\r\n  {\r\n    userName: 'AJ',\r\n    avatar: 'https://avatars.githubusercontent.com/u/93337957?v=4',\r\n    totalFollowers: 3,\r\n    PostedDealsByUser: 1,\r\n  },\r\n];\r\nconst followersExample = [\r\n  {\r\n    userName: 'Anthony',\r\n    totalFollowers: 2,\r\n    PostedDealsByUser: 1,\r\n  },\r\n  {\r\n    userName: 'Kashane',\r\n    totalFollowers: 6,\r\n    PostedDealsByUser: 1,\r\n  },\r\n  {\r\n    userName: 'Xuyang',\r\n    totalFollowers: 8,\r\n    PostedDealsByUser: 4,\r\n  },\r\n];\r\nconst ProfileTabs = () => {\r\n  const [isShown, setIsShown] = useState(false);\r\n  const [buttonState, setButtonState] = useState(0);\r\n  const { userName: userParam } = useParams();\r\n\r\n  \r\n    const {loading, data} = useQuery(GET_USER_BY_USERNAME, { variables: { userName: userParam }});\r\n    const userObj = data?.getUserByUserName || [];\r\n    console.log(`userObj: `, userObj);\r\n    console.log(userObj.favoriteTags);\r\n    // const {loading, data} = useQuery(GET_USER_BY_ID, { variables: { userId: userId }});\r\n    // const user = data?.getUserById || [];\r\n    // console.log('user', user);\r\n\r\n    if (loading) {\r\n      return <div>Loading...</div>;\r\n    }\r\n  // const userObj = GetUserByUserId(GetUserName());\r\n  //   console.log('userobj', userObj);\r\n  \r\n  const handleClick = (id) => {\r\n    console.log(id);\r\n    setIsShown(current => !current);\r\n    setButtonState(id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"columns\">\r\n      <div className=\"column is-one-fifth\">\r\n        <nav className=\"panel\">\r\n          {tabs.map((tab) => (\r\n            <a className=\"panel-block is-active\" key={tab.id} onClick={ ()=>handleClick(tab.id)}>\r\n              <span className=\"panel-icon\">\r\n              <i className=\"fas fa-arrow-right\" aria-hidden=\"true\"></i>\r\n              </span>\r\n              {tab.name}\r\n            </a>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* <div>\r\n        {GetUserName()}\r\n      </div> */}\r\n\r\n      <div className=\"column is-four-fifths\" >\r\n        {buttonState===1 ? (\r\n          <SavedDeals savedDeals = {userObj.savedDeals} />\r\n        ) : buttonState === 2 ? (\r\n          <FavoriteTags favoriteTags = {userObj.favoriteTags} />\r\n        ) : buttonState === 3 ? (\r\n          <Following following = {followingExample} />\r\n        ) : buttonState === 4 ? (\r\n          <Followers followers = {followersExample} />\r\n        ) : \r\n          <p className=\"title is-align-self-stretch\">\r\n            Welcome!\r\n          </p>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileTabs;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport ProfileTabs from '../components/ProfileTabs';\r\n\r\nimport { GET_USER_BY_ID, QUERY_ME } from '../utils/queries';\r\n\r\nimport Auth from '../utils/auth';\r\n\r\nconst Profile = () => {\r\n  const { userName: userParam } = useParams();\r\n  console.log(userParam);\r\n  const { loading, data } = useQuery(userParam ? GET_USER_BY_ID : QUERY_ME, {\r\n    variables: { username: userParam },\r\n  });\r\n\r\n  const user = data?.user || {};\r\n\r\n\r\n  if (loading) {\r\n    return <progress className=\"progress is-warning\" max=\"100\"></progress>;\r\n  }\r\n\r\n//   if (!user?.username) {\r\n//     return (\r\n//       <h4>\r\n//         You need to be logged in to see this. Use the navigation links above to\r\n//         sign up or log in!\r\n//       </h4>\r\n//     );\r\n//   }\r\n\r\n  return (\r\n    <div className='container is-fluid'>\r\n        <div className=\"columns\">\r\n            <div className=\"column is-full\">\r\n                <p className=\"title has-text-centered my-1 py-3 has-background-warning\">\r\n                    Viewing {userParam}'s profile\r\n                </p>\r\n            </div>\r\n        </div>        \r\n        <div >\r\n            <div>\r\n                {/* {!userParam && ( */}\r\n                <div>\r\n                    <ProfileTabs />\r\n                </div>\r\n                {/* )} */}\r\n            </div>\r\n        </div> \r\n        \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nconst Pagination = ({entriesPerPage, totalEntries, paginate, previousPage, nextPage}) => {\r\n    const pageNumbers =[];\r\n\r\n    for (let i = 1; i <= Math.ceil(totalEntries / entriesPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const navigate = useNavigate();\r\n\r\n    return(\r\n        <nav className = 'pagination is-centered' role = 'navigation'>\r\n            {/* <a className = 'pagination-previous' onClick={(previousPage(-1))}>Previous Page</a>\r\n            <a className = 'pagination-next' onClick={(nextPage(1))}>Next Page</a> */}\r\n            <ul className = 'pagination-list'>\r\n                {pageNumbers.map(number => (\r\n                    <li key={number} className='pagination-link ' onClick={() => paginate(number)}>\r\n                        <a>\r\n                            {number}\r\n                        </a>\r\n                    </li>\r\n                    )\r\n                )}\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport {useState} from 'react';\r\nimport Deal from '../components/Deal'\r\nimport { Navigate, useParams, useSearchParams } from 'react-router-dom';\r\nimport DealSmall from '../components/DealSmall';\r\nimport auth from '../utils/auth';\r\nimport dealArray from '../utils/sampledata';\r\nimport Pagination from '../components/Pagination';\r\nimport { GET_ALL_DEALS, GET_DEALS_BY_KEYWORD } from '../utils/queries';\r\nimport {useQuery} from '@apollo/client';\r\n\r\nexport default function Results() {\r\n  // obtain search keyword from URL\r\n  // const [searchParams, setSearchParams] = useSearchParams();\r\n  // const keyword = searchParams.get('keyword');\r\n  // call the query\r\n\r\n  const { keyword: keyword } = useParams();\r\n  console.log(keyword);\r\n\r\n  const { loading, data } = useQuery(GET_DEALS_BY_KEYWORD, {\r\n    variables: { keyword }\r\n  });\r\n\r\n  console.log(data);\r\n\r\n  const resultDeals = data?.getDealsByKeyword || [];\r\n\r\n  console.log(resultDeals);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [dealsPerPage, setDealsPerPage] = useState(8);\r\n\r\n  //get current posts\r\n  const indexOfLastDeal = currentPage * dealsPerPage;\r\n  const indexOfFirstDeal = indexOfLastDeal - dealsPerPage;\r\n  const currentDeals = resultDeals.slice(indexOfFirstDeal, indexOfLastDeal);\r\n\r\n  //change Page\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n  const previousPage = (pageNumber) => setCurrentPage(pageNumber-1);\r\n  const nextPage = (pageNumber) => setCurrentPage(pageNumber+1);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Results:</h1>\r\n      <div className = 'feedDeals columns'>\r\n        <div className = 'column is-full'>\r\n              {currentDeals.map((dealObj) => (\r\n                <Deal className = 'is-centered' deal = {dealObj}></Deal>\r\n              ))}\r\n        </div>\r\n      </div>\r\n\r\n    <Pagination entriesPerPage={dealsPerPage} totalEntries={resultDeals.length} paginate={paginate} previousPage={previousPage} nextPage = {nextPage} />\r\n\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SVG from 'react-inlinesvg';\r\nimport { identicon } from 'minidenticons'\r\n\r\nimport { useQuery, useMutation } from '@apollo/client';\r\n\r\nimport { GET_USER_BY_EMAIL, GET_USER_BY_USERNAME } from '../utils/queries';\r\nimport { ADD_USER } from '../utils/mutations';\r\n\r\nimport Auth from '../utils/auth';\r\n\r\nconst adjustfieldWidth = { width: '250%' };\r\nReact.createElement(\"div\", { style: adjustfieldWidth });\r\n\r\nconst adjustCardWidth = { width: '40%' };\r\nReact.createElement(\"div\", { style: adjustCardWidth });\r\n\r\n\r\nconst initAvatar = '<svg viewBox=\"-1.5 -1.5 8 8\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"hsl(51 84% 69%)\"><rect x=\"0\" y=\"3\" width=\"1\" height=\"1\"></rect><rect x=\"1\" y=\"0\" width=\"1\" height=\"1\"></rect><rect x=\"1\" y=\"4\" width=\"1\" height=\"1\"></rect><rect x=\"4\" y=\"3\" width=\"1\" height=\"1\"></rect><rect x=\"3\" y=\"4\" width=\"1\" height=\"1\"></rect><rect x=\"3\" y=\"0\" width=\"1\" height=\"1\"></rect><rect x=\"2\" y=\"4\" width=\"1\" height=\"1\"></rect></svg>';\r\n\r\nconst Signup = () => {\r\n\r\n  const [formState, setFormState] = useState({\r\n    userName: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [addUser, { error, data }] = useMutation(ADD_USER);\r\n\r\n  const [avatarState, setAvatarState] = useState(initAvatar);\r\n  const {loading: userNameLoading, data: userNameData} = useQuery(GET_USER_BY_USERNAME, { variables: { userName: formState.userName }});\r\n  const {loading: emailLoading, data: emailData} = useQuery(GET_USER_BY_EMAIL, { variables: { email: formState.email }});\r\n\r\n  const userNameObj = userNameData?.getUserByUserName || [];\r\n//   console.log(\"userNameObj\",userNameObj);\r\n\r\n  const emailObj = emailData?.getUserByUserEmail || [];\r\n//   console.log(\"emailObj\",emailObj);\r\n\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n\r\n    //render avatar based on userName input\r\n    if (event.target.name===\"userName\") setAvatarState(identicon(event.target.value)) ;   \r\n\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(formState);\r\n\r\n    try {\r\n      const { data } = await addUser({\r\n        variables: { ...formState },\r\n      });\r\n\r\n      Auth.login(data.addUser.token);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className='section'>    \r\n        <div className=\"columns is-mobile is-centered\">\r\n            <div className=\"card\" style={adjustCardWidth}>\r\n                <header className=\"card-header\">\r\n                    <p className=\"card-header-title is-centered\">\r\n                        <span className=\"icon-text\">\r\n                            <span className=\"icon has-text-warning\">\r\n                                <i className=\"fas fa-info-circle\"></i>\r\n                            </span>\r\n                            <span>Sign Up</span>\r\n                        </span>\r\n                    </p>\r\n                </header>\r\n                <section className=\"card-content\" id=\"card\">\r\n                    <h3 className=\"label\">Your Avatar</h3>\r\n                    <div className=\"card-image has-text-centered\">\r\n                        <figure className=\"image is-128x128 is-inline-block\">\r\n                            <SVG src={avatarState} />\r\n                        </figure>  \r\n                    </div>\r\n\r\n                    {data ? (\r\n                        <p>\r\n                            Success! You may now head{' '}\r\n                            <Link to=\"/\">back to the homepage.</Link>\r\n                        </p>\r\n                    ) : (\r\n                    <form onSubmit={handleFormSubmit}>\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Username</label>\r\n                            <div className=\"control has-icons-left is-expanded\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"userName\" \r\n                                    placeholder=\"Your username\"\r\n                                    type=\"text\"  \r\n                                    value={formState.userName}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                <i className=\"fas fa-user\"></i>\r\n                                </span>\r\n                            </div>\r\n                            {userNameObj._id ? (\r\n                                    <p className=\"help is-warning\">This username is taken. <Link to=\"/login\">Log in?</Link></p>\r\n                                ) : !userNameObj._id ? (\r\n                                    <span></span>\r\n                                ) : (\r\n                                    <span></span>\r\n                                )   \r\n                            }\r\n                        </div>\r\n                        \r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Email</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"email\" \r\n                                    placeholder=\"Your email\"\r\n                                    type=\"text\"  \r\n                                    value={formState.email}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-envelope\"></i>\r\n                                </span>\r\n                            </div>\r\n                            {emailObj._id ? (\r\n                                <p className=\"help is-warning\">This email is taken. <Link to=\"/login\">Log in?</Link></p>\r\n                                ) : !emailObj._id ? (\r\n                                <span></span>\r\n                                ) : (\r\n                                <span></span>\r\n                                )   \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Password</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\" \r\n                                    placeholder=\"********\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"  \r\n                                    value={formState.password}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>    \r\n                                <span className=\"icon is-small is-left\">\r\n                                <i className=\"fas fa-key\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        { emailObj._id || userNameObj._id || !formState ? (\r\n                            <div className=\"field\" style={adjustfieldWidth}>\r\n                                <div className=\"buttons is-centered my-2\">\r\n                                    <button className=\"button is-warning disabled\">\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-check\"></i>\r\n                                        </span>\r\n                                        <span>Submit</span>\r\n                                    </button>\r\n                                    <button className=\"button is-warning is-outlined is-link\">\r\n                                        <span>\r\n                                            <Link to=\"/\">\r\n                                                Cancel\r\n                                            </Link>\r\n                                        </span>\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"field\" style={adjustfieldWidth}>\r\n                                <div className=\"buttons is-centered my-2\">\r\n                                    <button className=\"button is-warning\">\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-check\"></i>\r\n                                        </span>\r\n                                        <span>Submit</span>\r\n                                    </button>\r\n                                    <button className=\"button is-warning is-outlined is-link\">\r\n                                        <span>\r\n                                            <Link to=\"/\">\r\n                                                Cancel\r\n                                            </Link>\r\n                                        </span>\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}  \r\n                        \r\n                    </form>\r\n                    )}\r\n                    {error && (\r\n                    <div className=\"is-warning\">\r\n                        {error.message}\r\n                        Something went wrong...\r\n                    </div>\r\n                    )}\r\n                </section>\r\n            </div>         \r\n        </div>\r\n    </section>\r\n    \r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { Link } from 'react-router-dom';\r\nimport SVG from 'react-inlinesvg';\r\nimport { useMutation } from '@apollo/client';\r\nimport Auth from '../utils/auth';\r\nimport { GET_ALL_CATEGORIES, GET_ALL_TAGS, GET_ALL_MERCHANTS } from '../utils/queries';\r\nimport { POST_DEAL } from '../utils/mutations';\r\n\r\n\r\nconst adjustfieldWidth = { width: '250%' };\r\nReact.createElement(\"div\", { style: adjustfieldWidth });\r\n\r\nconst adjustCardWidth = { width: '40%' };\r\nReact.createElement(\"div\", { style: adjustCardWidth });\r\n\r\nconst PostDealPage = () => {\r\n\r\n    const [postDeal, {error, data}] = useMutation(POST_DEAL);\r\n\r\n    function GetAllMerchants () {\r\n        const {loading, data} = useQuery(GET_ALL_MERCHANTS);\r\n        const allMerchants = data?.getAllMerchants || [];\r\n        return allMerchants;\r\n    }\r\n\r\n    const merchantList = GetAllMerchants();\r\n    console.log(merchantList);\r\n\r\n    function GetAllCategories () {\r\n        const {loading, data} = useQuery(GET_ALL_CATEGORIES);\r\n        const allCategories = data?.getAllCategories || [];\r\n        return allCategories;\r\n    }\r\n\r\n    const categoryList =  GetAllCategories();\r\n\r\n\r\n    function GetAllTags () {\r\n        const {loading, data} = useQuery(GET_ALL_TAGS);\r\n        const allTags = data?.getAllTags || [];\r\n        return allTags;\r\n    }\r\n\r\n  const [formState, setFormState] = useState({\r\n    title: '',\r\n    description: '',\r\n    productLink: '',\r\n    photoLink: '',\r\n    startingPrice: 0,\r\n    dealPrice: 0,\r\n    merchant: '62a7e883682632424d7b732e',\r\n    category: '62a7e883682632424d7b7334',\r\n    tags: [],\r\n    submittedBy: Auth.getProfile().data._id,\r\n    submittedOn: Date.now\r\n  });\r\n\r\n  \r\n\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n\r\n   \r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(formState);\r\n\r\n    try {\r\n        const { data } = await postDeal({\r\n            // variables: { startingPrice: parseFloat(formState.startingPrice,2), dealPrice: parseFloat(formState.dealPrice,2),...formState },\r\n            variables: { ...formState },\r\n        });\r\n    }\r\n\r\n    catch (e) {\r\n        console.error(e);\r\n    }\r\n\r\n  };\r\n\r\n\r\n  return (\r\n    <section className='section'>    \r\n        <div className=\"columns is-mobile is-centered\">\r\n            <div className=\"card\" style={adjustCardWidth}>\r\n                <header className=\"card-header\">\r\n                    <p className=\"card-header-title is-centered\">\r\n                        <span className=\"icon-text\">\r\n                            <span className=\"icon has-text-warning\">\r\n                                <i className=\"fas fa-info-circle\"></i>\r\n                            </span>\r\n                            <span>Post Your Deal!</span>\r\n                        </span>\r\n                    </p>\r\n                </header>\r\n                <section className=\"card-content\" id=\"card\">\r\n                    <form onSubmit={handleFormSubmit}>\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Title</label>\r\n                            <div className=\"control has-icons-left is-expanded\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"title\" \r\n                                    placeholder=\"Product title\"\r\n                                    type=\"text\"  \r\n                                    value={formState.title}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                <i className=\"fas fa-solid fa-barcode\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Description</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"description\" \r\n                                    placeholder=\"Product description\"\r\n                                    type=\"text\"  \r\n                                    value={formState.description}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-scroll\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Deal URL</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"productLink\" \r\n                                    placeholder=\"URL to the deal\"\r\n                                    type=\"text\"  \r\n                                    value={formState.productLink}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-window-maximize\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Photo URL</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"photoLink\" \r\n                                    placeholder=\"URL to a photo of the product\"\r\n                                    type=\"text\"  \r\n                                    value={formState.photoLink}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-camera\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Original Price</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"startingPrice\" \r\n                                    placeholder=\"$19.99\"\r\n                                    type=\"text\"  \r\n                                    value={formState.startingPrice}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-solid fa-dollar-sign\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">New Price</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <input \r\n                                    className=\"input is-warning\"\r\n                                    name=\"dealPrice\" \r\n                                    placeholder=\"$14.99\"\r\n                                    type=\"text\"  \r\n                                    value={formState.dealPrice}\r\n                                    onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                  <i className=\"fas fa-solid fa-dollar-sign\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Merchant</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <select onChange={handleChange}>\r\n                                        {GetAllMerchants().map((merch) => \r\n                                        <option\r\n                                        className=\"input is-warning\"\r\n                                        name=\"category\" \r\n                                        placeholder=\"Best Buy\"\r\n                                        type=\"text\"  \r\n                                        value={merch._id}\r\n                                        >{merch.name}</option>\r\n                                        )}\r\n                                    </select>\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-store\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Category</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                <select>\r\n                                    {GetAllCategories().map((cat) => \r\n                                    <option\r\n                                    className=\"input is-warning\"\r\n                                    name=\"category\" \r\n                                    placeholder=\"Best Buy\"\r\n                                    type=\"text\"  \r\n                                    value={cat._id}\r\n                                    onChange={handleChange}>{cat.name}</option>\r\n                                    )}\r\n                                </select>\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-layer-group\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                            <label className=\"label\">Tags</label>\r\n                            <div className=\"control has-icons-left\">\r\n                                <div> \r\n                                    <select multiple>\r\n                                        {GetAllTags().map((tag) => \r\n                                        <option\r\n                                        className=\"input is-warning\"\r\n                                        name=\"tags\" \r\n                                        placeholder=\"Best Buy\"\r\n                                        type=\"text\"  \r\n                                        value={formState.tags}\r\n                                        onChange={handleChange}>{tag.name}</option>\r\n                                        )}\r\n                                    </select>\r\n                                </div>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-tag\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div> \r\n\r\n                        <div className=\"field\" style={adjustfieldWidth}>\r\n                                <div className=\"buttons is-centered my-2\">\r\n                                    <button className=\"button is-warning\" type = 'submit'>\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-check\"></i>\r\n                                        </span>\r\n                                        <span>Submit</span>\r\n                                    </button>\r\n                                    <button className=\"button is-warning is-outlined is-link\">\r\n                                        <span>\r\n                                            <Link to=\"/\">\r\n                                                Cancel\r\n                                            </Link>\r\n                                        </span>\r\n                                        <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                    </form>\r\n                </section>\r\n            </div>         \r\n        </div>\r\n    </section>\r\n    \r\n  );\r\n};\r\n\r\nexport default PostDealPage;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\nimport { SchemaLink } from 'apollo-link-schema';\r\n\r\nimport Logo from './components/Logo';\r\nimport Nav from './components/Nav';\r\nimport Footer from './components/Footer';\r\nimport InfoBar from './components/InfoBar';\r\n// import StoreList from './components/StoreList'\r\nimport Home from '../src/pages/Home';\r\nimport Login from '../src/pages/Login';\r\nimport Profile from '../src/pages/Profile';\r\nimport Results from '../src/pages/Results';\r\nimport Signup from './pages/Signup';\r\nimport Post from './pages/Post'\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql',\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('id_token');\r\n\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\n// commenting out to try and get heroku deployment\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\n// const client = new ApolloClient({\r\n//   ssrMode: true,\r\n//   // Instead of \"createHttpLink\" use SchemaLink here\r\n//   link: new SchemaLink({ schema }),\r\n//   cache: new InMemoryCache(),\r\n// });\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div>\r\n            <Nav />\r\n            <InfoBar />\r\n            <Routes>\r\n              <Route exact = 'true' path = '/' element = {\r\n                <div>\r\n                  < Home />\r\n                </div>\r\n              }>\r\n              </Route>\r\n              <Route \r\n                path=\"/me\" \r\n                element={<Profile />}\r\n              />\r\n              <Route exact = 'true' path = '/login' element = {\r\n                < Login />\r\n              }>\r\n              </Route>\r\n              <Route exact = 'true' path = '/signup' element = {\r\n                < Signup />\r\n              }>\r\n              </Route>\r\n              <Route exact = 'true' path = '/profile/:userName' element = {\r\n                < Profile />\r\n              }>\r\n              </Route>\r\n              <Route exact = 'true' path = '/results/:keyword' element = {\r\n                < Results />\r\n              }>\r\n              </Route>\r\n              <Route exact = 'true' path = '/post' element = {\r\n                < Post />\r\n              }>\r\n              </Route>\r\n            </Routes>\r\n            <Footer />\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.register();\r\n"],"sourceRoot":""}